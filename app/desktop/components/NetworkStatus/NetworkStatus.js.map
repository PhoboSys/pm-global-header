{"version":3,"file":"NetworkStatus.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_reactDom","_reactPopper","_clsx","_constants","_Sync","_NetworkStatusModule","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","_defineProperty","_toPropertyKey","value","enumerable","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","iterator","f","o","next","done","push","isArray","statuses","success","warning","error","defaultPopperOffset","NetworkStatus","_ref","className","networkStatus","_ref$popperOffset","popperOffset","onClick","_useState","useState","_useState2","isOpen","setIsOpen","_useState3","_useState4","referenceElement","setReferenceElement","_useState5","_useState6","popperElement","setPopperElement","modifiers","useMemo","enabled","phase","requires","fn","_ref2","state","styles","popper","visibility","pointerEvents","options","offset","_usePopper","usePopper","placement","attributes","handleMouseEnter","useCallback","handleMouseLeave","handleClick","createElement","cn","css","container","NETWORK_STATUS","SUCCESS","WARNING","ERROR","ref","header","onMouseEnter","onMouseLeave","status","createPortal","style","title","document","body","propTypes","PropTypes","string","array","func","_default","exports"],"sources":["../../../../src/desktop/components/NetworkStatus/NetworkStatus.js"],"sourcesContent":["import React, { useState, useMemo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { createPortal } from 'react-dom'\nimport { usePopper } from 'react-popper'\nimport cn from 'clsx'\n\nimport { NETWORK_STATUS } from '@constants'\n\nimport Sync from '../SVG/Sync'\n\nimport css from './NetworkStatus.module.scss'\n\nconst statuses = {\n  success: 'Online',\n  warning: 'Lag',\n  error: 'Error',\n}\n\nconst defaultPopperOffset = [45, 5]\n\nconst NetworkStatus = ({\n  className,\n  networkStatus,\n  popperOffset = defaultPopperOffset,\n  onClick,\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n  const [referenceElement, setReferenceElement] = useState(null)\n  const [popperElement, setPopperElement] = useState(null)\n\n  const modifiers = useMemo(() => [\n    {\n      name: 'toggle',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: ({ state }) => {\n        state.styles.popper.visibility = isOpen ? 'visible' : 'hidden'\n        state.styles.popper.pointerEvents = isOpen ? 'all' : 'none'\n      },\n    },\n    { name: 'offset', options: { offset: popperOffset } },\n  ], [isOpen, popperOffset])\n\n  const { styles, attributes } = usePopper(\n    referenceElement,\n    popperElement,\n    { modifiers, placement: 'top' },\n  )\n\n  const handleMouseEnter = useCallback(() => setIsOpen(true), [])\n  const handleMouseLeave = useCallback(() => setIsOpen(false), [])\n  const handleClick = useCallback(() => onClick && onClick(), [onClick])\n\n  return (\n    <div className={cn(css.container, {\n      [css.success]: networkStatus === NETWORK_STATUS.SUCCESS,\n      [css.warning]: networkStatus === NETWORK_STATUS.WARNING,\n      [css.error]: networkStatus === NETWORK_STATUS.ERROR,\n    }, className)}>\n      <div\n        ref={setReferenceElement}\n        className={css.header}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        onClick={handleClick}\n      >\n        <div className={css.status} />\n        <Sync />\n      </div>\n      {createPortal((\n        <div className={css.popper} ref={setPopperElement} style={styles.popper} {...attributes.popper}>\n          Network Sync\n          <span\n            className={cn(css.title, {\n              [css.success]: networkStatus === NETWORK_STATUS.SUCCESS,\n              [css.warning]: networkStatus === NETWORK_STATUS.WARNING,\n              [css.error]: networkStatus === NETWORK_STATUS.ERROR,\n            })}>\n            {statuses[networkStatus] || statuses.success}\n          </span>\n        </div>\n      ), document.body)}\n    </div>\n  )\n}\n\nNetworkStatus.propTypes = {\n  className: PropTypes.string,\n  networkStatus: PropTypes.string,\n  popperOffset: PropTypes.array,\n  onClick: PropTypes.func,\n}\n\nexport default NetworkStatus\n"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AACA,IAAAI,YAAA,GAAAJ,OAAA;AACA,IAAAK,KAAA,GAAAH,sBAAA,CAAAF,OAAA;AAEA,IAAAM,UAAA,GAAAN,OAAA;AAEA,IAAAO,KAAA,GAAAL,sBAAA,CAAAF,OAAA;AAEA,IAAAQ,oBAAA,GAAAN,sBAAA,CAAAF,OAAA;AAA6C,SAAAE,uBAAAO,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAAA,SAAAE,yBAAAF,CAAA,6BAAAG,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAD,wBAAA,YAAAA,yBAAAF,CAAA,WAAAA,CAAA,GAAAK,CAAA,GAAAD,CAAA,KAAAJ,CAAA;AAAA,SAAAV,wBAAAU,CAAA,EAAAI,CAAA,SAAAA,CAAA,IAAAJ,CAAA,IAAAA,CAAA,CAAAC,UAAA,SAAAD,CAAA,eAAAA,CAAA,gBAAAM,OAAA,CAAAN,CAAA,0BAAAA,CAAA,sBAAAA,CAAA,QAAAK,CAAA,GAAAH,wBAAA,CAAAE,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAE,GAAA,CAAAP,CAAA,UAAAK,CAAA,CAAAG,GAAA,CAAAR,CAAA,OAAAS,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAf,CAAA,oBAAAe,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAe,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAd,CAAA,EAAAe,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAf,CAAA,CAAAe,CAAA,YAAAN,CAAA,cAAAT,CAAA,EAAAK,CAAA,IAAAA,CAAA,CAAAc,GAAA,CAAAnB,CAAA,EAAAS,CAAA,GAAAA,CAAA;AAAA,SAAAW,SAAA,WAAAA,QAAA,GAAAR,MAAA,CAAAS,MAAA,GAAAT,MAAA,CAAAS,MAAA,CAAAC,IAAA,eAAAb,CAAA,aAAAT,CAAA,MAAAA,CAAA,GAAAuB,SAAA,CAAAC,MAAA,EAAAxB,CAAA,UAAAK,CAAA,GAAAkB,SAAA,CAAAvB,CAAA,YAAAI,CAAA,IAAAC,CAAA,OAAAW,cAAA,CAAAC,IAAA,CAAAZ,CAAA,EAAAD,CAAA,MAAAK,CAAA,CAAAL,CAAA,IAAAC,CAAA,CAAAD,CAAA,aAAAK,CAAA,KAAAW,QAAA,CAAAK,KAAA,OAAAF,SAAA;AAAA,SAAAG,gBAAA1B,CAAA,EAAAI,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAuB,cAAA,CAAAvB,CAAA,MAAAJ,CAAA,GAAAY,MAAA,CAAAC,cAAA,CAAAb,CAAA,EAAAI,CAAA,IAAAwB,KAAA,EAAAvB,CAAA,EAAAwB,UAAA,MAAAC,YAAA,MAAAC,QAAA,UAAA/B,CAAA,CAAAI,CAAA,IAAAC,CAAA,EAAAL,CAAA;AAAA,SAAA2B,eAAAtB,CAAA,QAAAa,CAAA,GAAAc,YAAA,CAAA3B,CAAA,gCAAAC,OAAA,CAAAY,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAc,aAAA3B,CAAA,EAAAD,CAAA,oBAAAE,OAAA,CAAAD,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAL,CAAA,GAAAK,CAAA,CAAA4B,MAAA,CAAAC,WAAA,kBAAAlC,CAAA,QAAAkB,CAAA,GAAAlB,CAAA,CAAAiB,IAAA,CAAAZ,CAAA,EAAAD,CAAA,gCAAAE,OAAA,CAAAY,CAAA,UAAAA,CAAA,YAAAiB,SAAA,yEAAA/B,CAAA,GAAAgC,MAAA,GAAAC,MAAA,EAAAhC,CAAA;AAAA,SAAAiC,eAAAlC,CAAA,EAAAJ,CAAA,WAAAuC,eAAA,CAAAnC,CAAA,KAAAoC,qBAAA,CAAApC,CAAA,EAAAJ,CAAA,KAAAyC,2BAAA,CAAArC,CAAA,EAAAJ,CAAA,KAAA0C,gBAAA;AAAA,SAAAA,iBAAA,cAAAP,SAAA;AAAA,SAAAM,4BAAArC,CAAA,EAAAO,CAAA,QAAAP,CAAA,2BAAAA,CAAA,SAAAuC,iBAAA,CAAAvC,CAAA,EAAAO,CAAA,OAAAN,CAAA,MAAAuC,QAAA,CAAA3B,IAAA,CAAAb,CAAA,EAAAyC,KAAA,6BAAAxC,CAAA,IAAAD,CAAA,CAAA0C,WAAA,KAAAzC,CAAA,GAAAD,CAAA,CAAA0C,WAAA,CAAAC,IAAA,aAAA1C,CAAA,cAAAA,CAAA,GAAA2C,KAAA,CAAAC,IAAA,CAAA7C,CAAA,oBAAAC,CAAA,+CAAA6C,IAAA,CAAA7C,CAAA,IAAAsC,iBAAA,CAAAvC,CAAA,EAAAO,CAAA;AAAA,SAAAgC,kBAAAvC,CAAA,EAAAO,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAP,CAAA,CAAAoB,MAAA,MAAAb,CAAA,GAAAP,CAAA,CAAAoB,MAAA,YAAAxB,CAAA,MAAAS,CAAA,GAAAuC,KAAA,CAAArC,CAAA,GAAAX,CAAA,GAAAW,CAAA,EAAAX,CAAA,IAAAS,CAAA,CAAAT,CAAA,IAAAI,CAAA,CAAAJ,CAAA,UAAAS,CAAA;AAAA,SAAA+B,sBAAApC,CAAA,EAAA+C,CAAA,QAAA9C,CAAA,WAAAD,CAAA,gCAAA6B,MAAA,IAAA7B,CAAA,CAAA6B,MAAA,CAAAmB,QAAA,KAAAhD,CAAA,4BAAAC,CAAA,QAAAL,CAAA,EAAAS,CAAA,EAAAS,CAAA,EAAAH,CAAA,EAAAJ,CAAA,OAAA0C,CAAA,OAAAC,CAAA,iBAAApC,CAAA,IAAAb,CAAA,GAAAA,CAAA,CAAAY,IAAA,CAAAb,CAAA,GAAAmD,IAAA,QAAAJ,CAAA,QAAAvC,MAAA,CAAAP,CAAA,MAAAA,CAAA,UAAAgD,CAAA,uBAAAA,CAAA,IAAArD,CAAA,GAAAkB,CAAA,CAAAD,IAAA,CAAAZ,CAAA,GAAAmD,IAAA,MAAA7C,CAAA,CAAA8C,IAAA,CAAAzD,CAAA,CAAA4B,KAAA,GAAAjB,CAAA,CAAAa,MAAA,KAAA2B,CAAA,GAAAE,CAAA,iBAAAjD,CAAA,IAAAkD,CAAA,OAAA7C,CAAA,GAAAL,CAAA,yBAAAiD,CAAA,YAAAhD,CAAA,eAAAU,CAAA,GAAAV,CAAA,cAAAO,MAAA,CAAAG,CAAA,MAAAA,CAAA,2BAAAuC,CAAA,QAAA7C,CAAA,aAAAE,CAAA;AAAA,SAAA4B,gBAAAnC,CAAA,QAAA4C,KAAA,CAAAU,OAAA,CAAAtD,CAAA,UAAAA,CAAA;AAE7C,IAAMuD,QAAQ,GAAG;EACfC,OAAO,EAAE,QAAQ;EACjBC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACT,CAAC;AAED,IAAMC,mBAAmB,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC;AAEnC,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAAC,IAAA,EAKb;EAAA,IAJJC,SAAS,GAAAD,IAAA,CAATC,SAAS;IACTC,aAAa,GAAAF,IAAA,CAAbE,aAAa;IAAAC,iBAAA,GAAAH,IAAA,CACbI,YAAY;IAAZA,YAAY,GAAAD,iBAAA,cAAGL,mBAAmB,GAAAK,iBAAA;IAClCE,OAAO,GAAAL,IAAA,CAAPK,OAAO;EAEP,IAAAC,SAAA,GAA4B,IAAAC,eAAQ,EAAC,KAAK,CAAC;IAAAC,UAAA,GAAAnC,cAAA,CAAAiC,SAAA;IAApCG,MAAM,GAAAD,UAAA;IAAEE,SAAS,GAAAF,UAAA;EACxB,IAAAG,UAAA,GAAgD,IAAAJ,eAAQ,EAAC,IAAI,CAAC;IAAAK,UAAA,GAAAvC,cAAA,CAAAsC,UAAA;IAAvDE,gBAAgB,GAAAD,UAAA;IAAEE,mBAAmB,GAAAF,UAAA;EAC5C,IAAAG,UAAA,GAA0C,IAAAR,eAAQ,EAAC,IAAI,CAAC;IAAAS,UAAA,GAAA3C,cAAA,CAAA0C,UAAA;IAAjDE,aAAa,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EAEtC,IAAMG,SAAS,GAAG,IAAAC,cAAO,EAAC;IAAA,OAAM,CAC9B;MACEtC,IAAI,EAAE,QAAQ;MACduC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE,aAAa;MACpBC,QAAQ,EAAE,CAAC,eAAe,CAAC;MAC3BC,EAAE,EAAE,SAAJA,EAAEA,CAAAC,KAAA,EAAiB;QAAA,IAAZC,KAAK,GAAAD,KAAA,CAALC,KAAK;QACVA,KAAK,CAACC,MAAM,CAACC,MAAM,CAACC,UAAU,GAAGpB,MAAM,GAAG,SAAS,GAAG,QAAQ;QAC9DiB,KAAK,CAACC,MAAM,CAACC,MAAM,CAACE,aAAa,GAAGrB,MAAM,GAAG,KAAK,GAAG,MAAM;MAC7D;IACF,CAAC,EACD;MAAE3B,IAAI,EAAE,QAAQ;MAAEiD,OAAO,EAAE;QAAEC,MAAM,EAAE5B;MAAa;IAAE,CAAC,CACtD;EAAA,GAAE,CAACK,MAAM,EAAEL,YAAY,CAAC,CAAC;EAE1B,IAAA6B,UAAA,GAA+B,IAAAC,sBAAS,EACtCrB,gBAAgB,EAChBI,aAAa,EACb;MAAEE,SAAS,EAATA,SAAS;MAAEgB,SAAS,EAAE;IAAM,CAChC,CAAC;IAJOR,MAAM,GAAAM,UAAA,CAANN,MAAM;IAAES,UAAU,GAAAH,UAAA,CAAVG,UAAU;EAM1B,IAAMC,gBAAgB,GAAG,IAAAC,kBAAW,EAAC;IAAA,OAAM5B,SAAS,CAAC,IAAI,CAAC;EAAA,GAAE,EAAE,CAAC;EAC/D,IAAM6B,gBAAgB,GAAG,IAAAD,kBAAW,EAAC;IAAA,OAAM5B,SAAS,CAAC,KAAK,CAAC;EAAA,GAAE,EAAE,CAAC;EAChE,IAAM8B,WAAW,GAAG,IAAAF,kBAAW,EAAC;IAAA,OAAMjC,OAAO,IAAIA,OAAO,CAAC,CAAC;EAAA,GAAE,CAACA,OAAO,CAAC,CAAC;EAEtE,oBACEjF,MAAA,YAAAqH,aAAA;IAAKxC,SAAS,EAAE,IAAAyC,gBAAE,EAACC,+BAAG,CAACC,SAAS,EAAAnF,eAAA,CAAAA,eAAA,CAAAA,eAAA,KAC7BkF,+BAAG,CAAChD,OAAO,EAAGO,aAAa,KAAK2C,yBAAc,CAACC,OAAO,GACtDH,+BAAG,CAAC/C,OAAO,EAAGM,aAAa,KAAK2C,yBAAc,CAACE,OAAO,GACtDJ,+BAAG,CAAC9C,KAAK,EAAGK,aAAa,KAAK2C,yBAAc,CAACG,KAAK,GAClD/C,SAAS;EAAE,gBACZ7E,MAAA,YAAAqH,aAAA;IACEQ,GAAG,EAAEnC,mBAAoB;IACzBb,SAAS,EAAE0C,+BAAG,CAACO,MAAO;IACtBC,YAAY,EAAEd,gBAAiB;IAC/Be,YAAY,EAAEb,gBAAiB;IAC/BlC,OAAO,EAAEmC;EAAY,gBAErBpH,MAAA,YAAAqH,aAAA;IAAKxC,SAAS,EAAE0C,+BAAG,CAACU;EAAO,CAAE,CAAC,eAC9BjI,MAAA,YAAAqH,aAAA,CAAC5G,KAAA,WAAI,MAAE,CACJ,CAAC,eACL,IAAAyH,sBAAY,eACXlI,MAAA,YAAAqH,aAAA,QAAAtF,QAAA;IAAK8C,SAAS,EAAE0C,+BAAG,CAACf,MAAO;IAACqB,GAAG,EAAE/B,gBAAiB;IAACqC,KAAK,EAAE5B,MAAM,CAACC;EAAO,GAAKQ,UAAU,CAACR,MAAM,GAAE,cAE9F,eAAAxG,MAAA,YAAAqH,aAAA;IACExC,SAAS,EAAE,IAAAyC,gBAAE,EAACC,+BAAG,CAACa,KAAK,EAAA/F,eAAA,CAAAA,eAAA,CAAAA,eAAA,KACpBkF,+BAAG,CAAChD,OAAO,EAAGO,aAAa,KAAK2C,yBAAc,CAACC,OAAO,GACtDH,+BAAG,CAAC/C,OAAO,EAAGM,aAAa,KAAK2C,yBAAc,CAACE,OAAO,GACtDJ,+BAAG,CAAC9C,KAAK,EAAGK,aAAa,KAAK2C,yBAAc,CAACG,KAAK,CACpD;EAAE,GACFtD,QAAQ,CAACQ,aAAa,CAAC,IAAIR,QAAQ,CAACC,OACjC,CACH,CAAC,EACL8D,QAAQ,CAACC,IAAI,CACb,CAAC;AAEV,CAAC;AAED3D,aAAa,CAAC4D,SAAS,GAAG;EACxB1D,SAAS,EAAE2D,qBAAS,CAACC,MAAM;EAC3B3D,aAAa,EAAE0D,qBAAS,CAACC,MAAM;EAC/BzD,YAAY,EAAEwD,qBAAS,CAACE,KAAK;EAC7BzD,OAAO,EAAEuD,qBAAS,CAACG;AACrB,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,cAEclE,aAAa","ignoreList":[]}
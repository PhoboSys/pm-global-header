{"version":3,"file":"AccountInfo.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_lodash","_clsx","_Edit","_UserHint","_CloseIcon","_useTransition3","_NicknameModule","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_defineProperty","value","_toPropertyKey","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","length","arr2","r","l","t","iterator","e","u","a","f","next","done","push","isArray","localStorageSelector","Nickname","_ref","address","username","editable","onNicknameChanged","_useState","useState","_useState2","inputValue","setInputValue","_useState3","_useState4","editingNickname","setEditNickname","_useState5","localStorage","getItem","_useState6","showHint","setShowHint","timeout","_useTransition","useTransition","_useTransition2","mountHint","showingHint","isEdit","handleNicknameSave","useCallback","closeHint","nickname","trim","substring","changingNickname","target","setItem","createElement","className","cn","css","container","collapsed","editing","Fragment","autoFocus","onChange","maxLength","id","hasValue","htmlFor","save","onClick","text","title","edit","editicon","close","icon","description","propTypes","PropTypes","string","bool","func","_default","exports"],"sources":["../../../../../src/desktop/components/StatisticsBar/AccountInfo/AccountInfo.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { trim } from 'lodash'\nimport cn from 'clsx'\n\nimport Edit from '../../SVG/Edit'\nimport UserHint from '../../SVG/UserHint'\nimport CloseIcon from '../../SVG/CloseIcon'\n\nimport { useTransition } from '../../../../hooks/useTransition'\n\nimport css from './Nickname.module.scss';\n\nconst localStorageSelector = 'pm-global-header-username-hint-closed'\n\nconst Nickname = ({\n  address,\n  username,\n  editable,\n  onNicknameChanged,\n}) => {\n  const [inputValue, setInputValue] = useState(username)\n  const [editingNickname, setEditNickname] = useState(false)\n  const [showHint, setShowHint] = useState(!username && localStorage.getItem(localStorageSelector) !== 'true')\n\n  const timeout = 100 //ms\n  const [mountHint, showingHint] = useTransition(showHint, timeout)\n\n  const isEdit = editingNickname || !username\n\n  const handleNicknameSave = useCallback(() => {\n    if (!inputValue) return\n    if (!onNicknameChanged) return\n\n    closeHint()\n    setEditNickname(false)\n    onNicknameChanged({ address, nickname: trim(inputValue).substring(0, 35) })\n\n  }, [onNicknameChanged, inputValue, address])\n\n  const changingNickname = useCallback((e) => { setInputValue(e.target.value) }, [setInputValue])\n\n  const closeHint = useCallback(() => {\n    localStorage.setItem(localStorageSelector, true)\n    setShowHint(false)\n  }, [])\n\n  return (\n    <div className={cn(css.container, { [css.collapsed]: true })}>\n\n      {!editable &&\n        <div className={css.nickname}>\n          {username}\n        </div>\n      }\n\n      {editable &&\n        <div className={cn(css.nickname, {[css.editing]: isEdit })}>\n\n          {isEdit && (\n            <>\n              <input\n                autoFocus\n                className={css.input}\n                value={inputValue}\n                onChange={changingNickname}\n                maxLength=\"35\"\n                id=\"nickname\"\n              />\n              <label\n                className={cn({ [css.hasValue]: inputValue })}\n                htmlFor=\"nickname\"\n              >\n                User name\n              </label>\n\n              {!!inputValue && (\n                <a className={css.save} onClick={handleNicknameSave}>\n                  Save name\n                </a>\n              )}\n            </>\n          )}\n          \n          {!isEdit && (\n            <>\n              <span className={css.text} title={username}>{username}</span>\n              <a\n                className={css.edit}\n                onClick={setEditNickname}\n              >\n                <Edit className={css.editicon} />\n              </a>\n            </>\n          )}\n          \n          {mountHint && (\n            <div className={cn(css.hint, { [css.showingHint]: showingHint })}>\n              <span className={css.close} onClick={closeHint}>\n                <CloseIcon />\n              </span>\n              <UserHint className={css.icon} />\n              <span className={css.text}>\n                <span className={css.title}>\n                  User name\n                </span>\n                <span className={css.description}>\n                  Add a Name to your account that other players will see.\n                </span>\n              </span>\n            </div>\n          )}\n        </div>\n      }\n    </div>\n  )\n}\n\nNickname.propTypes = {\n  address: PropTypes.string,\n  username: PropTypes.string,\n  editable: PropTypes.bool,\n  onNicknameChanged: PropTypes.func,\n}\n\nexport default Nickname"],"mappings":"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"}
{"version":3,"file":"FormattedCurrencyCell.js","names":["_propTypes","_interopRequireDefault","require","_calcUtils","_htmlUtils","obj","__esModule","formatSymboled","amount","currency","formater","Intl","NumberFormat","Locale","style","currencyDisplay","minimumFractionDigits","maximumFractionDigits","format","formatNumber","num","arguments","length","undefined","token","map","suffix","threshold","formatted","found","find","x","Math","abs","div","htmlCurrency","FormattedCurrencyCell","_ref","propTypes","PropTypes","oneOfType","string","number","bool","_default","exports"],"sources":["../../../../../../src/desktop/components/StatisticsBar/cells/FormattedCurrencyCell/FormattedCurrencyCell.js"],"sourcesContent":["import PropTypes from 'prop-types'\n\nimport { div } from '@lib/calc-utils'\nimport { htmlCurrency } from '@lib/html-utils'\n\nconst formatSymboled = (amount, currency) => {\n  const formater = new Intl.NumberFormat(Intl.Locale, {\n    style: 'currency',\n    currency,\n    currencyDisplay: 'narrowSymbol',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2,\n  })\n  return formater.format(amount)\n}\n\nfunction formatNumber(num = 0, currency, token) {\n  const map = [\n    { suffix: 'T', threshold: 1e12 },\n    { suffix: 'B', threshold: 1e9 },\n    { suffix: 'M', threshold: 1e6 },\n    { suffix: 'K', threshold: 1e3 },\n    { suffix: '', threshold: 1 },\n  ]\n\n  let formatted = num\n\n  const found = map.find((x) => Math.abs(num) >= x.threshold)\n  if (found) formatted = div(num, found.threshold)\n  if (!token && currency) formatted = formatSymboled(formatted, currency)\n  if (token) formatted = htmlCurrency(formatted)\n  if (found) formatted = formatted + found.suffix\n\n  return formatted\n}\n\nconst FormattedCurrencyCell = ({ amount, currency, token }) => {\n  return formatNumber(amount, currency, token)\n}\n\nFormattedCurrencyCell.propTypes = {\n  amount: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  currency: PropTypes.string,\n  token: PropTypes.bool,\n}\n\nexport default FormattedCurrencyCell"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,UAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AAA8C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAE9C,IAAME,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,MAAM,EAAEC,QAAQ,EAAK;EAC3C,IAAMC,QAAQ,GAAG,IAAIC,IAAI,CAACC,YAAY,CAACD,IAAI,CAACE,MAAM,EAAE;IAClDC,KAAK,EAAE,UAAU;IACjBL,QAAQ,EAARA,QAAQ;IACRM,eAAe,EAAE,cAAc;IAC/BC,qBAAqB,EAAE,CAAC;IACxBC,qBAAqB,EAAE;EACzB,CAAC,CAAC;EACF,OAAOP,QAAQ,CAACQ,MAAM,CAACV,MAAM,CAAC;AAChC,CAAC;AAED,SAASW,YAAYA,CAAA,EAA2B;EAAA,IAA1BC,GAAG,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAAA,IAAEZ,QAAQ,GAAAY,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAAA,IAAEC,KAAK,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAC5C,IAAME,GAAG,GAAG,CACV;IAAEC,MAAM,EAAE,GAAG;IAAEC,SAAS,EAAE;EAAK,CAAC,EAChC;IAAED,MAAM,EAAE,GAAG;IAAEC,SAAS,EAAE;EAAI,CAAC,EAC/B;IAAED,MAAM,EAAE,GAAG;IAAEC,SAAS,EAAE;EAAI,CAAC,EAC/B;IAAED,MAAM,EAAE,GAAG;IAAEC,SAAS,EAAE;EAAI,CAAC,EAC/B;IAAED,MAAM,EAAE,EAAE;IAAEC,SAAS,EAAE;EAAE,CAAC,CAC7B;EAED,IAAIC,SAAS,GAAGR,GAAG;EAEnB,IAAMS,KAAK,GAAGJ,GAAG,CAACK,IAAI,CAAC,UAACC,CAAC;IAAA,OAAKC,IAAI,CAACC,GAAG,CAACb,GAAG,CAAC,IAAIW,CAAC,CAACJ,SAAS;EAAA,EAAC;EAC3D,IAAIE,KAAK,EAAED,SAAS,GAAG,IAAAM,cAAG,EAACd,GAAG,EAAES,KAAK,CAACF,SAAS,CAAC;EAChD,IAAI,CAACH,KAAK,IAAIf,QAAQ,EAAEmB,SAAS,GAAGrB,cAAc,CAACqB,SAAS,EAAEnB,QAAQ,CAAC;EACvE,IAAIe,KAAK,EAAEI,SAAS,GAAG,IAAAO,uBAAY,EAACP,SAAS,CAAC;EAC9C,IAAIC,KAAK,EAAED,SAAS,GAAGA,SAAS,GAAGC,KAAK,CAACH,MAAM;EAE/C,OAAOE,SAAS;AAClB;AAEA,IAAMQ,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAAC,IAAA,EAAoC;EAAA,IAA9B7B,MAAM,GAAA6B,IAAA,CAAN7B,MAAM;IAAEC,QAAQ,GAAA4B,IAAA,CAAR5B,QAAQ;IAAEe,KAAK,GAAAa,IAAA,CAALb,KAAK;EACtD,OAAOL,YAAY,CAACX,MAAM,EAAEC,QAAQ,EAAEe,KAAK,CAAC;AAC9C,CAAC;AAEDY,qBAAqB,CAACE,SAAS,GAAG;EAChC9B,MAAM,EAAE+B,qBAAS,CAACC,SAAS,CAAC,CAACD,qBAAS,CAACE,MAAM,EAAEF,qBAAS,CAACG,MAAM,CAAC,CAAC;EACjEjC,QAAQ,EAAE8B,qBAAS,CAACE,MAAM;EAC1BjB,KAAK,EAAEe,qBAAS,CAACI;AACnB,CAAC;AAAA,IAAAC,QAAA,GAEcR,qBAAqB;AAAAS,OAAA,cAAAD,QAAA"}
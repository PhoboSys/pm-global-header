{"version":3,"file":"Copy.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_clsx","_reactPopper","_CopyIcon","_CopyModule","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","arr2","r","l","t","Symbol","iterator","e","u","a","f","next","done","push","value","isArray","Copy","_ref","className","iconClassName","children","text","_ref$offsetX","offsetX","_ref$offsetY","offsetY","_useState","useState","_useState2","isOpen","setIsOpen","_useState3","_useState4","referenceElement","setReferenceElement","_useState5","_useState6","popperElement","setPopperElement","_useState7","_useState8","arrowElement","setArrowElement","modifiers","useMemo","enabled","phase","requires","fn","_ref2","state","styles","popper","visibility","pointerEvents","options","element","offset","_usePopper","usePopper","placement","attributes","handleClick","useCallback","navigator","clipboard","writeText","useEffect","timeoutid","setTimeout","clearTimeout","createElement","Fragment","cn","css","container","ref","icon","onClick","style","arrow","propTypes","PropTypes","string","number","_default","exports"],"sources":["../../../../../src/desktop/components/common/Copy/Copy.js"],"sourcesContent":["import React, { useCallback, useState, useMemo, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport cn from 'clsx'\nimport { usePopper } from 'react-popper'\n\nimport CopyIcon from '../../SVG/CopyIcon'\n\nimport css from './Copy.module.scss'\n\nconst Copy = ({\n  className,\n  iconClassName,\n  children,\n  text,\n  offsetX = 0,\n  offsetY = 10,\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  const [referenceElement, setReferenceElement] = useState(null)\n  const [popperElement, setPopperElement] = useState(null)\n  const [arrowElement, setArrowElement] = useState(null)\n\n  const modifiers = useMemo(() => [\n    {\n      name: 'toggle',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: ({ state }) => {\n        state.styles.popper.visibility = isOpen ? 'visible' : 'hidden'\n        state.styles.popper.pointerEvents = isOpen ? 'all' : 'none'\n      },\n    },\n    { name: 'arrow', options: { element: arrowElement } },\n    { name: 'offset', options: { offset: [offsetX, offsetY] } },\n  ], [isOpen, offsetX, offsetY, arrowElement])\n\n  const { styles, attributes } = usePopper(referenceElement, popperElement, {\n    placement: 'top',\n    modifiers,\n  })\n\n  const handleClick = useCallback(() => {\n    navigator.clipboard.writeText(text)\n    setIsOpen(true)\n  }, [text])\n\n  useEffect(() => {\n    let timeoutid\n    if (isOpen) timeoutid = setTimeout(() => setIsOpen(false), 1000)\n    return () => clearTimeout(timeoutid)\n  }, [isOpen])\n\n  return (\n    <>\n      <span className={cn(css.container, className)}>\n        {children}\n        <span\n          ref={setReferenceElement}\n          className={cn(css.icon, iconClassName)}\n          onClick={handleClick}\n        >\n          <CopyIcon />\n        </span>\n      </span>\n      <div className={css.popper} ref={setPopperElement} style={styles.popper} {...attributes.popper}>\n        Copied to clipboard!\n        <div className={css.arrow} ref={setArrowElement} style={styles.arrow} />\n      </div>\n    </>\n  )\n}\n\nCopy.propTypes = {\n  className: PropTypes.string,\n  iconClassName: PropTypes.string,\n  children: PropTypes.string,\n  text: PropTypes.string,\n  offsetX: PropTypes.number,\n  offsetY: PropTypes.number\n}\n\nexport default Copy"],"mappings":"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"}
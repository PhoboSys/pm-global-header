{"version":3,"file":"Copy.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_reactDom","_clsx","_reactPopper","_CopyIcon","_CopyModule","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","Symbol","iterator","f","o","next","done","push","value","isArray","Copy","_ref","className","iconClassName","children","text","_ref$offsetX","offsetX","_ref$offsetY","offsetY","target","_useState","useState","_useState2","isOpen","setIsOpen","_useState3","_useState4","referenceElement","setReferenceElement","_useState5","_useState6","popperElement","setPopperElement","_useState7","_useState8","arrowElement","setArrowElement","modifiers","useMemo","enabled","phase","requires","fn","_ref2","state","styles","popper","visibility","pointerEvents","options","element","offset","_usePopper","usePopper","placement","attributes","handleClick","useCallback","stopPropagation","navigator","clipboard","writeText","useEffect","timeoutid","setTimeout","clearTimeout","renderPopper","createElement","css","ref","style","arrow","Fragment","cn","container","icon","onClick","createPortal","propTypes","PropTypes","string","node","number","instanceOf","Element","_default","exports"],"sources":["../../../../../src/desktop/components/common/Copy/Copy.js"],"sourcesContent":["import React, { useCallback, useState, useMemo, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { createPortal } from 'react-dom'\nimport cn from 'clsx'\nimport { usePopper } from 'react-popper'\n\nimport CopyIcon from '../../SVG/CopyIcon'\n\nimport css from './Copy.module.scss'\n\nconst Copy = ({\n  className,\n  iconClassName,\n  children,\n  text,\n  offsetX = 0,\n  offsetY = 10,\n  target,\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  const [referenceElement, setReferenceElement] = useState(null)\n  const [popperElement, setPopperElement] = useState(null)\n  const [arrowElement, setArrowElement] = useState(null)\n\n  const modifiers = useMemo(() => [\n    {\n      name: 'toggle',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: ({ state }) => {\n        state.styles.popper.visibility = isOpen ? 'visible' : 'hidden'\n        state.styles.popper.pointerEvents = isOpen ? 'all' : 'none'\n      },\n    },\n    { name: 'arrow', options: { element: arrowElement } },\n    { name: 'offset', options: { offset: [offsetX, offsetY] } },\n  ], [isOpen, offsetX, offsetY, arrowElement])\n\n  const { styles, attributes } = usePopper(referenceElement, popperElement, {\n    placement: 'top',\n    modifiers,\n  })\n\n  const handleClick = useCallback((e) => {\n    e.stopPropagation()\n    navigator.clipboard.writeText(text)\n    setIsOpen(true)\n  }, [text])\n\n  useEffect(() => {\n    let timeoutid\n    if (isOpen) timeoutid = setTimeout(() => setIsOpen(false), 1000)\n    return () => clearTimeout(timeoutid)\n  }, [isOpen])\n\n  const renderPopper = () => (\n    <div className={css.popper} ref={setPopperElement} style={styles.popper} {...attributes.popper}>\n      Copied to clipboard!\n      <div className={css.arrow} ref={setArrowElement} style={styles.arrow} />\n    </div>\n  )\n\n  return (\n    <>\n      <span className={cn(css.container, className)}>\n        {children}\n        <span\n          ref={setReferenceElement}\n          className={cn(css.icon, iconClassName)}\n          onClick={handleClick}\n        >\n          <CopyIcon />\n        </span>\n      </span>\n      {target ? createPortal(renderPopper(), target) : renderPopper()}\n    </>\n  )\n}\n\nCopy.propTypes = {\n  className: PropTypes.string,\n  iconClassName: PropTypes.string,\n  children: PropTypes.node,\n  text: PropTypes.string,\n  offsetX: PropTypes.number,\n  offsetY: PropTypes.number,\n  target: PropTypes.instanceOf(Element),\n}\n\nexport default Copy"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AACA,IAAAI,KAAA,GAAAF,sBAAA,CAAAF,OAAA;AACA,IAAAK,YAAA,GAAAL,OAAA;AAEA,IAAAM,SAAA,GAAAJ,sBAAA,CAAAF,OAAA;AAEA,IAAAO,WAAA,GAAAL,sBAAA,CAAAF,OAAA;AAAoC,SAAAE,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAAA,SAAAE,yBAAAF,CAAA,6BAAAG,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAD,wBAAA,YAAAA,yBAAAF,CAAA,WAAAA,CAAA,GAAAK,CAAA,GAAAD,CAAA,KAAAJ,CAAA;AAAA,SAAAT,wBAAAS,CAAA,EAAAI,CAAA,SAAAA,CAAA,IAAAJ,CAAA,IAAAA,CAAA,CAAAC,UAAA,SAAAD,CAAA,eAAAA,CAAA,gBAAAM,OAAA,CAAAN,CAAA,0BAAAA,CAAA,sBAAAA,CAAA,QAAAK,CAAA,GAAAH,wBAAA,CAAAE,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAE,GAAA,CAAAP,CAAA,UAAAK,CAAA,CAAAG,GAAA,CAAAR,CAAA,OAAAS,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAf,CAAA,oBAAAe,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAe,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAd,CAAA,EAAAe,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAf,CAAA,CAAAe,CAAA,YAAAN,CAAA,cAAAT,CAAA,EAAAK,CAAA,IAAAA,CAAA,CAAAc,GAAA,CAAAnB,CAAA,EAAAS,CAAA,GAAAA,CAAA;AAAA,SAAAW,SAAA,WAAAA,QAAA,GAAAR,MAAA,CAAAS,MAAA,GAAAT,MAAA,CAAAS,MAAA,CAAAC,IAAA,eAAAb,CAAA,aAAAT,CAAA,MAAAA,CAAA,GAAAuB,SAAA,CAAAC,MAAA,EAAAxB,CAAA,UAAAK,CAAA,GAAAkB,SAAA,CAAAvB,CAAA,YAAAI,CAAA,IAAAC,CAAA,OAAAW,cAAA,CAAAC,IAAA,CAAAZ,CAAA,EAAAD,CAAA,MAAAK,CAAA,CAAAL,CAAA,IAAAC,CAAA,CAAAD,CAAA,aAAAK,CAAA,KAAAW,QAAA,CAAAK,KAAA,OAAAF,SAAA;AAAA,SAAAG,eAAAtB,CAAA,EAAAJ,CAAA,WAAA2B,eAAA,CAAAvB,CAAA,KAAAwB,qBAAA,CAAAxB,CAAA,EAAAJ,CAAA,KAAA6B,2BAAA,CAAAzB,CAAA,EAAAJ,CAAA,KAAA8B,gBAAA;AAAA,SAAAA,iBAAA,cAAAC,SAAA;AAAA,SAAAF,4BAAAzB,CAAA,EAAAO,CAAA,QAAAP,CAAA,2BAAAA,CAAA,SAAA4B,iBAAA,CAAA5B,CAAA,EAAAO,CAAA,OAAAN,CAAA,MAAA4B,QAAA,CAAAhB,IAAA,CAAAb,CAAA,EAAA8B,KAAA,6BAAA7B,CAAA,IAAAD,CAAA,CAAA+B,WAAA,KAAA9B,CAAA,GAAAD,CAAA,CAAA+B,WAAA,CAAAC,IAAA,aAAA/B,CAAA,cAAAA,CAAA,GAAAgC,KAAA,CAAAC,IAAA,CAAAlC,CAAA,oBAAAC,CAAA,+CAAAkC,IAAA,CAAAlC,CAAA,IAAA2B,iBAAA,CAAA5B,CAAA,EAAAO,CAAA;AAAA,SAAAqB,kBAAA5B,CAAA,EAAAO,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAP,CAAA,CAAAoB,MAAA,MAAAb,CAAA,GAAAP,CAAA,CAAAoB,MAAA,YAAAxB,CAAA,MAAAS,CAAA,GAAA4B,KAAA,CAAA1B,CAAA,GAAAX,CAAA,GAAAW,CAAA,EAAAX,CAAA,IAAAS,CAAA,CAAAT,CAAA,IAAAI,CAAA,CAAAJ,CAAA,UAAAS,CAAA;AAAA,SAAAmB,sBAAAxB,CAAA,EAAAoC,CAAA,QAAAnC,CAAA,WAAAD,CAAA,gCAAAqC,MAAA,IAAArC,CAAA,CAAAqC,MAAA,CAAAC,QAAA,KAAAtC,CAAA,4BAAAC,CAAA,QAAAL,CAAA,EAAAS,CAAA,EAAAS,CAAA,EAAAH,CAAA,EAAAJ,CAAA,OAAAgC,CAAA,OAAAC,CAAA,iBAAA1B,CAAA,IAAAb,CAAA,GAAAA,CAAA,CAAAY,IAAA,CAAAb,CAAA,GAAAyC,IAAA,QAAAL,CAAA,QAAA5B,MAAA,CAAAP,CAAA,MAAAA,CAAA,UAAAsC,CAAA,uBAAAA,CAAA,IAAA3C,CAAA,GAAAkB,CAAA,CAAAD,IAAA,CAAAZ,CAAA,GAAAyC,IAAA,MAAAnC,CAAA,CAAAoC,IAAA,CAAA/C,CAAA,CAAAgD,KAAA,GAAArC,CAAA,CAAAa,MAAA,KAAAgB,CAAA,GAAAG,CAAA,iBAAAvC,CAAA,IAAAwC,CAAA,OAAAnC,CAAA,GAAAL,CAAA,yBAAAuC,CAAA,YAAAtC,CAAA,eAAAU,CAAA,GAAAV,CAAA,cAAAO,MAAA,CAAAG,CAAA,MAAAA,CAAA,2BAAA6B,CAAA,QAAAnC,CAAA,aAAAE,CAAA;AAAA,SAAAgB,gBAAAvB,CAAA,QAAAiC,KAAA,CAAAY,OAAA,CAAA7C,CAAA,UAAAA,CAAA;AAEpC,IAAM8C,IAAI,GAAG,SAAPA,IAAIA,CAAAC,IAAA,EAQJ;EAAA,IAPJC,SAAS,GAAAD,IAAA,CAATC,SAAS;IACTC,aAAa,GAAAF,IAAA,CAAbE,aAAa;IACbC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;IACRC,IAAI,GAAAJ,IAAA,CAAJI,IAAI;IAAAC,YAAA,GAAAL,IAAA,CACJM,OAAO;IAAPA,OAAO,GAAAD,YAAA,cAAG,CAAC,GAAAA,YAAA;IAAAE,YAAA,GAAAP,IAAA,CACXQ,OAAO;IAAPA,OAAO,GAAAD,YAAA,cAAG,EAAE,GAAAA,YAAA;IACZE,MAAM,GAAAT,IAAA,CAANS,MAAM;EAEN,IAAAC,SAAA,GAA4B,IAAAC,eAAQ,EAAC,KAAK,CAAC;IAAAC,UAAA,GAAArC,cAAA,CAAAmC,SAAA;IAApCG,MAAM,GAAAD,UAAA;IAAEE,SAAS,GAAAF,UAAA;EAExB,IAAAG,UAAA,GAAgD,IAAAJ,eAAQ,EAAC,IAAI,CAAC;IAAAK,UAAA,GAAAzC,cAAA,CAAAwC,UAAA;IAAvDE,gBAAgB,GAAAD,UAAA;IAAEE,mBAAmB,GAAAF,UAAA;EAC5C,IAAAG,UAAA,GAA0C,IAAAR,eAAQ,EAAC,IAAI,CAAC;IAAAS,UAAA,GAAA7C,cAAA,CAAA4C,UAAA;IAAjDE,aAAa,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EACtC,IAAAG,UAAA,GAAwC,IAAAZ,eAAQ,EAAC,IAAI,CAAC;IAAAa,UAAA,GAAAjD,cAAA,CAAAgD,UAAA;IAA/CE,YAAY,GAAAD,UAAA;IAAEE,eAAe,GAAAF,UAAA;EAEpC,IAAMG,SAAS,GAAG,IAAAC,cAAO,EAAC;IAAA,OAAM,CAC9B;MACE3C,IAAI,EAAE,QAAQ;MACd4C,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE,aAAa;MACpBC,QAAQ,EAAE,CAAC,eAAe,CAAC;MAC3BC,EAAE,EAAE,SAAJA,EAAEA,CAAAC,KAAA,EAAiB;QAAA,IAAZC,KAAK,GAAAD,KAAA,CAALC,KAAK;QACVA,KAAK,CAACC,MAAM,CAACC,MAAM,CAACC,UAAU,GAAGxB,MAAM,GAAG,SAAS,GAAG,QAAQ;QAC9DqB,KAAK,CAACC,MAAM,CAACC,MAAM,CAACE,aAAa,GAAGzB,MAAM,GAAG,KAAK,GAAG,MAAM;MAC7D;IACF,CAAC,EACD;MAAE5B,IAAI,EAAE,OAAO;MAAEsD,OAAO,EAAE;QAAEC,OAAO,EAAEf;MAAa;IAAE,CAAC,EACrD;MAAExC,IAAI,EAAE,QAAQ;MAAEsD,OAAO,EAAE;QAAEE,MAAM,EAAE,CAACnC,OAAO,EAAEE,OAAO;MAAE;IAAE,CAAC,CAC5D;EAAA,GAAE,CAACK,MAAM,EAAEP,OAAO,EAAEE,OAAO,EAAEiB,YAAY,CAAC,CAAC;EAE5C,IAAAiB,UAAA,GAA+B,IAAAC,sBAAS,EAAC1B,gBAAgB,EAAEI,aAAa,EAAE;MACxEuB,SAAS,EAAE,KAAK;MAChBjB,SAAS,EAATA;IACF,CAAC,CAAC;IAHMQ,MAAM,GAAAO,UAAA,CAANP,MAAM;IAAEU,UAAU,GAAAH,UAAA,CAAVG,UAAU;EAK1B,IAAMC,WAAW,GAAG,IAAAC,kBAAW,EAAC,UAAClG,CAAC,EAAK;IACrCA,CAAC,CAACmG,eAAe,CAAC,CAAC;IACnBC,SAAS,CAACC,SAAS,CAACC,SAAS,CAAC/C,IAAI,CAAC;IACnCU,SAAS,CAAC,IAAI,CAAC;EACjB,CAAC,EAAE,CAACV,IAAI,CAAC,CAAC;EAEV,IAAAgD,gBAAS,EAAC,YAAM;IACd,IAAIC,SAAS;IACb,IAAIxC,MAAM,EAAEwC,SAAS,GAAGC,UAAU,CAAC;MAAA,OAAMxC,SAAS,CAAC,KAAK,CAAC;IAAA,GAAE,IAAI,CAAC;IAChE,OAAO;MAAA,OAAMyC,YAAY,CAACF,SAAS,CAAC;IAAA;EACtC,CAAC,EAAE,CAACxC,MAAM,CAAC,CAAC;EAEZ,IAAM2C,YAAY,GAAG,SAAfA,YAAYA,CAAA;IAAA,oBAChBrH,MAAA,YAAAsH,aAAA,QAAAxF,QAAA;MAAKgC,SAAS,EAAEyD,sBAAG,CAACtB,MAAO;MAACuB,GAAG,EAAErC,gBAAiB;MAACsC,KAAK,EAAEzB,MAAM,CAACC;IAAO,GAAKS,UAAU,CAACT,MAAM,GAAE,sBAE9F,eAAAjG,MAAA,YAAAsH,aAAA;MAAKxD,SAAS,EAAEyD,sBAAG,CAACG,KAAM;MAACF,GAAG,EAAEjC,eAAgB;MAACkC,KAAK,EAAEzB,MAAM,CAAC0B;IAAM,CAAE,CACpE,CAAC;EAAA,CACP;EAED,oBACE1H,MAAA,YAAAsH,aAAA,CAAAtH,MAAA,YAAA2H,QAAA,qBACE3H,MAAA,YAAAsH,aAAA;IAAMxD,SAAS,EAAE,IAAA8D,gBAAE,EAACL,sBAAG,CAACM,SAAS,EAAE/D,SAAS;EAAE,GAC3CE,QAAQ,eACThE,MAAA,YAAAsH,aAAA;IACEE,GAAG,EAAEzC,mBAAoB;IACzBjB,SAAS,EAAE,IAAA8D,gBAAE,EAACL,sBAAG,CAACO,IAAI,EAAE/D,aAAa,CAAE;IACvCgE,OAAO,EAAEpB;EAAY,gBAErB3G,MAAA,YAAAsH,aAAA,CAAC9G,SAAA,WAAQ,MAAE,CACP,CACF,CAAC,EACN8D,MAAM,gBAAG,IAAA0D,sBAAY,EAACX,YAAY,CAAC,CAAC,EAAE/C,MAAM,CAAC,GAAG+C,YAAY,CAAC,CAC9D,CAAC;AAEP,CAAC;AAEDzD,IAAI,CAACqE,SAAS,GAAG;EACfnE,SAAS,EAAEoE,qBAAS,CAACC,MAAM;EAC3BpE,aAAa,EAAEmE,qBAAS,CAACC,MAAM;EAC/BnE,QAAQ,EAAEkE,qBAAS,CAACE,IAAI;EACxBnE,IAAI,EAAEiE,qBAAS,CAACC,MAAM;EACtBhE,OAAO,EAAE+D,qBAAS,CAACG,MAAM;EACzBhE,OAAO,EAAE6D,qBAAS,CAACG,MAAM;EACzB/D,MAAM,EAAE4D,qBAAS,CAACI,UAAU,CAACC,OAAO;AACtC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,cAEc7E,IAAI","ignoreList":[]}
{"version":3,"file":"Copy.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_clsx","_reactPopper","_CopyIcon","_CopyModule","obj","__esModule","_getRequireWildcardCache","e","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","_extends","assign","bind","target","arguments","length","source","key","apply","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","len","arr2","l","Symbol","iterator","f","next","done","push","value","isArray","Copy","_ref","className","iconClassName","children","text","_ref$offsetX","offsetX","_ref$offsetY","offsetY","_useState","useState","_useState2","isOpen","setIsOpen","_useState3","_useState4","referenceElement","setReferenceElement","_useState5","_useState6","popperElement","setPopperElement","_useState7","_useState8","arrowElement","setArrowElement","modifiers","useMemo","enabled","phase","requires","fn","_ref2","state","styles","popper","visibility","pointerEvents","options","element","offset","_usePopper","usePopper","placement","attributes","handleClick","useCallback","navigator","clipboard","writeText","useEffect","timeoutid","setTimeout","clearTimeout","createElement","Fragment","cn","css","container","ref","icon","onClick","style","arrow","propTypes","PropTypes","string","number","_default","exports"],"sources":["../../../../../src/mobile/components/common/Copy/Copy.js"],"sourcesContent":["import React, { useCallback, useState, useMemo, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport cn from 'clsx'\nimport { usePopper } from 'react-popper'\n\nimport CopyIcon from '../../SVG/CopyIcon'\n\nimport css from './Copy.module.scss'\n\nconst Copy = ({\n  className,\n  iconClassName,\n  children,\n  text,\n  offsetX = 0,\n  offsetY = 10,\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  const [referenceElement, setReferenceElement] = useState(null)\n  const [popperElement, setPopperElement] = useState(null)\n  const [arrowElement, setArrowElement] = useState(null)\n\n  const modifiers = useMemo(() => [\n    {\n      name: 'toggle',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: ({ state }) => {\n        state.styles.popper.visibility = isOpen ? 'visible' : 'hidden'\n        state.styles.popper.pointerEvents = isOpen ? 'all' : 'none'\n      },\n    },\n    { name: 'arrow', options: { element: arrowElement } },\n    { name: 'offset', options: { offset: [offsetX, offsetY] } },\n  ], [isOpen, offsetX, offsetY, arrowElement])\n\n  const { styles, attributes } = usePopper(referenceElement, popperElement, {\n    placement: 'top',\n    modifiers,\n  })\n\n  const handleClick = useCallback(() => {\n    navigator.clipboard.writeText(text)\n    setIsOpen(true)\n  }, [text])\n\n  useEffect(() => {\n    let timeoutid\n    if (isOpen) timeoutid = setTimeout(() => setIsOpen(false), 1000)\n    return () => clearTimeout(timeoutid)\n  }, [isOpen])\n\n  return (\n    <>\n      <span className={cn(css.container, className)}>\n        {children}\n        <span\n          ref={setReferenceElement}\n          className={cn(css.icon, iconClassName)}\n          onClick={handleClick}\n        >\n          <CopyIcon />\n        </span>\n      </span>\n      <div className={css.popper} ref={setPopperElement} style={styles.popper} {...attributes.popper}>\n        Copied to clipboard!\n        <div className={css.arrow} ref={setArrowElement} style={styles.arrow} />\n      </div>\n    </>\n  )\n}\n\nCopy.propTypes = {\n  className: PropTypes.string,\n  iconClassName: PropTypes.string,\n  children: PropTypes.string,\n  text: PropTypes.string,\n  offsetX: PropTypes.number,\n  offsetY: PropTypes.number\n}\n\nexport default Copy"],"mappings":"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"}
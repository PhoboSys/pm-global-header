{"version":3,"file":"Dropdown.js","names":["_react","_interopRequireWildcard","require","_reactDom","_propTypes","_interopRequireDefault","_clsx","_reactPopper","_DropdownIcon","_DropdownOption","_Dropdown","_DropdownModule","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","Symbol","iterator","f","o","next","done","push","value","isArray","Dropdown","_ref","containerClassName","headerClassName","iconClassName","bodyClassName","valueClassName","optionClassName","iconColor","options","popperStyles","_ref$showIcon","showIcon","_ref$targetBody","targetBody","onChange","_ref$valueRenderer","valueRenderer","label","optionRenderer","_useState","useState","_useState2","isOpen","setIsOpen","containerElement","useRef","_useState3","_useState4","referenceElement","setReferenceElement","_useState5","_useState6","popperElement","setPopperElement","modifiers","useMemo","getModifiers","_usePopper","usePopper","placement","styles","attributes","handleClick","useCallback","handleChange","option","useEffect","handler","current","contains","target","window","addEventListener","removeEventListener","renderPopper","createElement","className","cn","css","body","ref","style","popper","map","index","key","onClick","renderer","container","header","icon","fill","createPortal","document","propTypes","PropTypes","string","array","any","object","bool","func","_default","exports","React","memo"],"sources":["../../../../../src/mobile/components/common/Dropdown/Dropdown.js"],"sourcesContent":["import React, { useCallback, useEffect, useState, useRef, useMemo } from 'react'\nimport { createPortal } from 'react-dom'\nimport PropTypes from 'prop-types'\nimport cn from 'clsx'\nimport { usePopper } from 'react-popper'\n\nimport DropdownIcon from '../../SVG/DropdownIcon'\n\nimport DropdownOption from './DropdownOption'\nimport { getModifiers } from './Dropdown.utils'\n\nimport css from './Dropdown.module.scss'\n\nconst Dropdown = ({\n  containerClassName,\n  headerClassName,\n  iconClassName,\n  bodyClassName,\n  valueClassName,\n  optionClassName,\n  iconColor,\n  options,\n  value,\n  popperStyles,\n  showIcon = true,\n  targetBody = false,\n  onChange,\n  valueRenderer = (value) => value.label,\n  optionRenderer,\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n  const containerElement = useRef(null)\n  const [referenceElement, setReferenceElement] = useState(null)\n  const [popperElement, setPopperElement] = useState(null)\n  const modifiers = useMemo(() => getModifiers({ isOpen, popperStyles }), [isOpen, popperStyles])\n  const { styles, attributes } = usePopper(referenceElement, popperElement, { modifiers, placement: 'bottom' })\n\n  const handleClick = useCallback(() => {\n    setIsOpen((isOpen) => !isOpen)\n  }, [])\n\n  const handleChange = useCallback((option) => {\n    setIsOpen(false)\n    onChange && onChange(option)\n  }, [onChange])\n\n  useEffect(() => {\n    const handler = (e) => {\n      if (containerElement.current && !containerElement.current.contains(e.target)) {\n        setIsOpen(false)\n      }\n    }\n    window.addEventListener('click', handler)\n    return () => {\n      window.removeEventListener('click', handler)\n    }\n  }, [])\n\n  const renderPopper = () => (\n    <div className={cn(css.body, bodyClassName)} ref={setPopperElement} style={styles.popper} {...attributes.popper}>\n      {options.map((option, index) => (\n        <DropdownOption\n          key={index}\n          className={optionClassName}\n          option={option}\n          onClick={handleChange}\n          renderer={optionRenderer}\n        />\n      ))}\n    </div>\n  )\n\n  return (\n    <div ref={containerElement} className={cn(css.container, containerClassName)}>\n      <div className={cn(css.header, headerClassName)} ref={setReferenceElement} onClick={handleClick}>\n        <div className={cn(css.value, valueClassName)}>{value && valueRenderer(value)}</div>\n        {showIcon && <div className={cn(css.icon, iconClassName)}><DropdownIcon fill={iconColor} /></div>}\n      </div>\n\n      {targetBody ? createPortal(renderPopper(), document.body) : renderPopper()}\n    </div>\n  )\n}\n\nDropdown.propTypes = {\n  containerClassName: PropTypes.string,\n  headerClassName: PropTypes.string,\n  iconClassName: PropTypes.string,\n  bodyClassName: PropTypes.string,\n  valueClassName: PropTypes.string,\n  optionClassName: PropTypes.string,\n  iconColor: PropTypes.string,\n  options: PropTypes.array,\n  value: PropTypes.any,\n  popperStyles: PropTypes.object,\n  showIcon: PropTypes.bool,\n  targetBody: PropTypes.bool,\n  onChange: PropTypes.func,\n  valueRenderer: PropTypes.func,\n  optionRenderer: PropTypes.func,\n}\n\nexport default React.memo(Dropdown)"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,KAAA,GAAAD,sBAAA,CAAAH,OAAA;AACA,IAAAK,YAAA,GAAAL,OAAA;AAEA,IAAAM,aAAA,GAAAH,sBAAA,CAAAH,OAAA;AAEA,IAAAO,eAAA,GAAAJ,sBAAA,CAAAH,OAAA;AACA,IAAAQ,SAAA,GAAAR,OAAA;AAEA,IAAAS,eAAA,GAAAN,sBAAA,CAAAH,OAAA;AAAwC,SAAAG,uBAAAO,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAAA,SAAAE,yBAAAF,CAAA,6BAAAG,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAD,wBAAA,YAAAA,yBAAAF,CAAA,WAAAA,CAAA,GAAAK,CAAA,GAAAD,CAAA,KAAAJ,CAAA;AAAA,SAAAX,wBAAAW,CAAA,EAAAI,CAAA,SAAAA,CAAA,IAAAJ,CAAA,IAAAA,CAAA,CAAAC,UAAA,SAAAD,CAAA,eAAAA,CAAA,gBAAAM,OAAA,CAAAN,CAAA,0BAAAA,CAAA,sBAAAA,CAAA,QAAAK,CAAA,GAAAH,wBAAA,CAAAE,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAE,GAAA,CAAAP,CAAA,UAAAK,CAAA,CAAAG,GAAA,CAAAR,CAAA,OAAAS,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAf,CAAA,oBAAAe,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAe,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAd,CAAA,EAAAe,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAf,CAAA,CAAAe,CAAA,YAAAN,CAAA,cAAAT,CAAA,EAAAK,CAAA,IAAAA,CAAA,CAAAc,GAAA,CAAAnB,CAAA,EAAAS,CAAA,GAAAA,CAAA;AAAA,SAAAW,SAAA,WAAAA,QAAA,GAAAR,MAAA,CAAAS,MAAA,GAAAT,MAAA,CAAAS,MAAA,CAAAC,IAAA,eAAAb,CAAA,aAAAT,CAAA,MAAAA,CAAA,GAAAuB,SAAA,CAAAC,MAAA,EAAAxB,CAAA,UAAAK,CAAA,GAAAkB,SAAA,CAAAvB,CAAA,YAAAI,CAAA,IAAAC,CAAA,OAAAW,cAAA,CAAAC,IAAA,CAAAZ,CAAA,EAAAD,CAAA,MAAAK,CAAA,CAAAL,CAAA,IAAAC,CAAA,CAAAD,CAAA,aAAAK,CAAA,KAAAW,QAAA,CAAAK,KAAA,OAAAF,SAAA;AAAA,SAAAG,eAAAtB,CAAA,EAAAJ,CAAA,WAAA2B,eAAA,CAAAvB,CAAA,KAAAwB,qBAAA,CAAAxB,CAAA,EAAAJ,CAAA,KAAA6B,2BAAA,CAAAzB,CAAA,EAAAJ,CAAA,KAAA8B,gBAAA;AAAA,SAAAA,iBAAA,cAAAC,SAAA;AAAA,SAAAF,4BAAAzB,CAAA,EAAAO,CAAA,QAAAP,CAAA,2BAAAA,CAAA,SAAA4B,iBAAA,CAAA5B,CAAA,EAAAO,CAAA,OAAAN,CAAA,MAAA4B,QAAA,CAAAhB,IAAA,CAAAb,CAAA,EAAA8B,KAAA,6BAAA7B,CAAA,IAAAD,CAAA,CAAA+B,WAAA,KAAA9B,CAAA,GAAAD,CAAA,CAAA+B,WAAA,CAAAC,IAAA,aAAA/B,CAAA,cAAAA,CAAA,GAAAgC,KAAA,CAAAC,IAAA,CAAAlC,CAAA,oBAAAC,CAAA,+CAAAkC,IAAA,CAAAlC,CAAA,IAAA2B,iBAAA,CAAA5B,CAAA,EAAAO,CAAA;AAAA,SAAAqB,kBAAA5B,CAAA,EAAAO,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAP,CAAA,CAAAoB,MAAA,MAAAb,CAAA,GAAAP,CAAA,CAAAoB,MAAA,YAAAxB,CAAA,MAAAS,CAAA,GAAA4B,KAAA,CAAA1B,CAAA,GAAAX,CAAA,GAAAW,CAAA,EAAAX,CAAA,IAAAS,CAAA,CAAAT,CAAA,IAAAI,CAAA,CAAAJ,CAAA,UAAAS,CAAA;AAAA,SAAAmB,sBAAAxB,CAAA,EAAAoC,CAAA,QAAAnC,CAAA,WAAAD,CAAA,gCAAAqC,MAAA,IAAArC,CAAA,CAAAqC,MAAA,CAAAC,QAAA,KAAAtC,CAAA,4BAAAC,CAAA,QAAAL,CAAA,EAAAS,CAAA,EAAAS,CAAA,EAAAH,CAAA,EAAAJ,CAAA,OAAAgC,CAAA,OAAAC,CAAA,iBAAA1B,CAAA,IAAAb,CAAA,GAAAA,CAAA,CAAAY,IAAA,CAAAb,CAAA,GAAAyC,IAAA,QAAAL,CAAA,QAAA5B,MAAA,CAAAP,CAAA,MAAAA,CAAA,UAAAsC,CAAA,uBAAAA,CAAA,IAAA3C,CAAA,GAAAkB,CAAA,CAAAD,IAAA,CAAAZ,CAAA,GAAAyC,IAAA,MAAAnC,CAAA,CAAAoC,IAAA,CAAA/C,CAAA,CAAAgD,KAAA,GAAArC,CAAA,CAAAa,MAAA,KAAAgB,CAAA,GAAAG,CAAA,iBAAAvC,CAAA,IAAAwC,CAAA,OAAAnC,CAAA,GAAAL,CAAA,yBAAAuC,CAAA,YAAAtC,CAAA,eAAAU,CAAA,GAAAV,CAAA,cAAAO,MAAA,CAAAG,CAAA,MAAAA,CAAA,2BAAA6B,CAAA,QAAAnC,CAAA,aAAAE,CAAA;AAAA,SAAAgB,gBAAAvB,CAAA,QAAAiC,KAAA,CAAAY,OAAA,CAAA7C,CAAA,UAAAA,CAAA;AAExC,IAAM8C,QAAQ,GAAG,SAAXA,QAAQA,CAAAC,IAAA,EAgBR;EAAA,IAfJC,kBAAkB,GAAAD,IAAA,CAAlBC,kBAAkB;IAClBC,eAAe,GAAAF,IAAA,CAAfE,eAAe;IACfC,aAAa,GAAAH,IAAA,CAAbG,aAAa;IACbC,aAAa,GAAAJ,IAAA,CAAbI,aAAa;IACbC,cAAc,GAAAL,IAAA,CAAdK,cAAc;IACdC,eAAe,GAAAN,IAAA,CAAfM,eAAe;IACfC,SAAS,GAAAP,IAAA,CAATO,SAAS;IACTC,OAAO,GAAAR,IAAA,CAAPQ,OAAO;IACPX,KAAK,GAAAG,IAAA,CAALH,KAAK;IACLY,YAAY,GAAAT,IAAA,CAAZS,YAAY;IAAAC,aAAA,GAAAV,IAAA,CACZW,QAAQ;IAARA,QAAQ,GAAAD,aAAA,cAAG,IAAI,GAAAA,aAAA;IAAAE,eAAA,GAAAZ,IAAA,CACfa,UAAU;IAAVA,UAAU,GAAAD,eAAA,cAAG,KAAK,GAAAA,eAAA;IAClBE,QAAQ,GAAAd,IAAA,CAARc,QAAQ;IAAAC,kBAAA,GAAAf,IAAA,CACRgB,aAAa;IAAbA,aAAa,GAAAD,kBAAA,cAAG,UAAClB,KAAK;MAAA,OAAKA,KAAK,CAACoB,KAAK;IAAA,IAAAF,kBAAA;IACtCG,cAAc,GAAAlB,IAAA,CAAdkB,cAAc;EAEd,IAAAC,SAAA,GAA4B,IAAAC,eAAQ,EAAC,KAAK,CAAC;IAAAC,UAAA,GAAA9C,cAAA,CAAA4C,SAAA;IAApCG,MAAM,GAAAD,UAAA;IAAEE,SAAS,GAAAF,UAAA;EACxB,IAAMG,gBAAgB,GAAG,IAAAC,aAAM,EAAC,IAAI,CAAC;EACrC,IAAAC,UAAA,GAAgD,IAAAN,eAAQ,EAAC,IAAI,CAAC;IAAAO,UAAA,GAAApD,cAAA,CAAAmD,UAAA;IAAvDE,gBAAgB,GAAAD,UAAA;IAAEE,mBAAmB,GAAAF,UAAA;EAC5C,IAAAG,UAAA,GAA0C,IAAAV,eAAQ,EAAC,IAAI,CAAC;IAAAW,UAAA,GAAAxD,cAAA,CAAAuD,UAAA;IAAjDE,aAAa,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EACtC,IAAMG,SAAS,GAAG,IAAAC,cAAO,EAAC;IAAA,OAAM,IAAAC,sBAAY,EAAC;MAAEd,MAAM,EAANA,MAAM;MAAEb,YAAY,EAAZA;IAAa,CAAC,CAAC;EAAA,GAAE,CAACa,MAAM,EAAEb,YAAY,CAAC,CAAC;EAC/F,IAAA4B,UAAA,GAA+B,IAAAC,sBAAS,EAACV,gBAAgB,EAAEI,aAAa,EAAE;MAAEE,SAAS,EAATA,SAAS;MAAEK,SAAS,EAAE;IAAS,CAAC,CAAC;IAArGC,MAAM,GAAAH,UAAA,CAANG,MAAM;IAAEC,UAAU,GAAAJ,UAAA,CAAVI,UAAU;EAE1B,IAAMC,WAAW,GAAG,IAAAC,kBAAW,EAAC,YAAM;IACpCpB,SAAS,CAAC,UAACD,MAAM;MAAA,OAAK,CAACA,MAAM;IAAA,EAAC;EAChC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMsB,YAAY,GAAG,IAAAD,kBAAW,EAAC,UAACE,MAAM,EAAK;IAC3CtB,SAAS,CAAC,KAAK,CAAC;IAChBT,QAAQ,IAAIA,QAAQ,CAAC+B,MAAM,CAAC;EAC9B,CAAC,EAAE,CAAC/B,QAAQ,CAAC,CAAC;EAEd,IAAAgC,gBAAS,EAAC,YAAM;IACd,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAIlG,CAAC,EAAK;MACrB,IAAI2E,gBAAgB,CAACwB,OAAO,IAAI,CAACxB,gBAAgB,CAACwB,OAAO,CAACC,QAAQ,CAACpG,CAAC,CAACqG,MAAM,CAAC,EAAE;QAC5E3B,SAAS,CAAC,KAAK,CAAC;MAClB;IACF,CAAC;IACD4B,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAEL,OAAO,CAAC;IACzC,OAAO,YAAM;MACXI,MAAM,CAACE,mBAAmB,CAAC,OAAO,EAAEN,OAAO,CAAC;IAC9C,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMO,YAAY,GAAG,SAAfA,YAAYA,CAAA;IAAA,oBAChBrH,MAAA,YAAAsH,aAAA,QAAAtF,QAAA;MAAKuF,SAAS,EAAE,IAAAC,gBAAE,EAACC,0BAAG,CAACC,IAAI,EAAEvD,aAAa,CAAE;MAACwD,GAAG,EAAE3B,gBAAiB;MAAC4B,KAAK,EAAErB,MAAM,CAACsB;IAAO,GAAKrB,UAAU,CAACqB,MAAM,GAC5GtD,OAAO,CAACuD,GAAG,CAAC,UAAClB,MAAM,EAAEmB,KAAK;MAAA,oBACzB/H,MAAA,YAAAsH,aAAA,CAAC7G,eAAA,WAAc;QACbuH,GAAG,EAAED,KAAM;QACXR,SAAS,EAAElD,eAAgB;QAC3BuC,MAAM,EAAEA,MAAO;QACfqB,OAAO,EAAEtB,YAAa;QACtBuB,QAAQ,EAAEjD;MAAe,CAC1B,CAAC;IAAA,CACH,CACE,CAAC;EAAA,CACP;EAED,oBACEjF,MAAA,YAAAsH,aAAA;IAAKK,GAAG,EAAEpC,gBAAiB;IAACgC,SAAS,EAAE,IAAAC,gBAAE,EAACC,0BAAG,CAACU,SAAS,EAAEnE,kBAAkB;EAAE,gBAC3EhE,MAAA,YAAAsH,aAAA;IAAKC,SAAS,EAAE,IAAAC,gBAAE,EAACC,0BAAG,CAACW,MAAM,EAAEnE,eAAe,CAAE;IAAC0D,GAAG,EAAE/B,mBAAoB;IAACqC,OAAO,EAAExB;EAAY,gBAC9FzG,MAAA,YAAAsH,aAAA;IAAKC,SAAS,EAAE,IAAAC,gBAAE,EAACC,0BAAG,CAAC7D,KAAK,EAAEQ,cAAc;EAAE,GAAER,KAAK,IAAImB,aAAa,CAACnB,KAAK,CAAO,CAAC,EACnFc,QAAQ,iBAAI1E,MAAA,YAAAsH,aAAA;IAAKC,SAAS,EAAE,IAAAC,gBAAE,EAACC,0BAAG,CAACY,IAAI,EAAEnE,aAAa;EAAE,gBAAClE,MAAA,YAAAsH,aAAA,CAAC9G,aAAA,WAAY;IAAC8H,IAAI,EAAEhE;EAAU,CAAE,CAAM,CAC7F,CAAC,EAELM,UAAU,gBAAG,IAAA2D,sBAAY,EAAClB,YAAY,CAAC,CAAC,EAAEmB,QAAQ,CAACd,IAAI,CAAC,GAAGL,YAAY,CAAC,CACtE,CAAC;AAEV,CAAC;AAEDvD,QAAQ,CAAC2E,SAAS,GAAG;EACnBzE,kBAAkB,EAAE0E,qBAAS,CAACC,MAAM;EACpC1E,eAAe,EAAEyE,qBAAS,CAACC,MAAM;EACjCzE,aAAa,EAAEwE,qBAAS,CAACC,MAAM;EAC/BxE,aAAa,EAAEuE,qBAAS,CAACC,MAAM;EAC/BvE,cAAc,EAAEsE,qBAAS,CAACC,MAAM;EAChCtE,eAAe,EAAEqE,qBAAS,CAACC,MAAM;EACjCrE,SAAS,EAAEoE,qBAAS,CAACC,MAAM;EAC3BpE,OAAO,EAAEmE,qBAAS,CAACE,KAAK;EACxBhF,KAAK,EAAE8E,qBAAS,CAACG,GAAG;EACpBrE,YAAY,EAAEkE,qBAAS,CAACI,MAAM;EAC9BpE,QAAQ,EAAEgE,qBAAS,CAACK,IAAI;EACxBnE,UAAU,EAAE8D,qBAAS,CAACK,IAAI;EAC1BlE,QAAQ,EAAE6D,qBAAS,CAACM,IAAI;EACxBjE,aAAa,EAAE2D,qBAAS,CAACM,IAAI;EAC7B/D,cAAc,EAAEyD,qBAAS,CAACM;AAC5B,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,2BAEcC,iBAAK,CAACC,IAAI,CAACtF,QAAQ,CAAC","ignoreList":[]}
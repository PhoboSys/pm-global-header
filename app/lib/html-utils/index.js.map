{"version":3,"file":"index.js","names":["_lodash","require","_big","_interopRequireDefault","_calcUtils","_currency","e","__esModule","htmlPercent","percent","precision","arguments","length","undefined","floor","mul","htmlCurrency","amount","maximumFractionDigits","isNaN","HTML_LOWEST_AMOUNT","Math","pow","eq","lt","Big","abs","toString","gt","concat","CurrencyFormatter","formatDefault","minimumFractionDigits","htmlAddress","address","toLower","replace"],"sources":["../../../src/lib/html-utils/index.js"],"sourcesContent":["import { floor, toLower } from 'lodash'\nimport Big from 'big.js'\nimport { eq, lt, gt, mul } from 'pm-libs/calc-utils'\n\nimport { CurrencyFormatter } from './currency'\n\nexport function htmlPercent(percent, precision = 2) {\n  return (floor(mul(percent,100), precision) || 0) + '%'\n}\n\nexport function htmlCurrency(amount, maximumFractionDigits = 3) {\n  if (isNaN(+amount)) return ''\n\n  const HTML_LOWEST_AMOUNT = Math.pow(10, -(maximumFractionDigits))\n\n  if (!eq(amount, 0) && lt(Big(amount).abs().toString(), HTML_LOWEST_AMOUNT)) {\n    if (gt(amount, 0)) return `<${HTML_LOWEST_AMOUNT}`\n    else return `<-${HTML_LOWEST_AMOUNT}`\n  }\n\n  return CurrencyFormatter.formatDefault(amount, {\n    minimumFractionDigits: 0,\n    maximumFractionDigits,\n  })\n}\n\nexport function htmlAddress(address) {\n  return toLower(address?.replace(/(0x.{3}).*(.{5})$/, '$1...$2'))\n}\n"],"mappings":";;;;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,IAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,UAAA,GAAAH,OAAA;AAEA,IAAAI,SAAA,GAAAJ,OAAA;AAA8C,SAAAE,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAEvC,SAASE,WAAWA,CAACC,OAAO,EAAiB;EAAA,IAAfC,SAAS,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAChD,OAAO,CAAC,IAAAG,aAAK,EAAC,IAAAC,cAAG,EAACN,OAAO,EAAC,GAAG,CAAC,EAAEC,SAAS,CAAC,IAAI,CAAC,IAAI,GAAG;AACxD;AAEO,SAASM,YAAYA,CAACC,MAAM,EAA6B;EAAA,IAA3BC,qBAAqB,GAAAP,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAC5D,IAAIQ,KAAK,CAAC,CAACF,MAAM,CAAC,EAAE,OAAO,EAAE;EAE7B,IAAMG,kBAAkB,GAAGC,IAAI,CAACC,GAAG,CAAC,EAAE,EAAE,CAAEJ,qBAAsB,CAAC;EAEjE,IAAI,CAAC,IAAAK,aAAE,EAACN,MAAM,EAAE,CAAC,CAAC,IAAI,IAAAO,aAAE,EAAC,IAAAC,eAAG,EAACR,MAAM,CAAC,CAACS,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAEP,kBAAkB,CAAC,EAAE;IAC1E,IAAI,IAAAQ,aAAE,EAACX,MAAM,EAAE,CAAC,CAAC,EAAE,WAAAY,MAAA,CAAWT,kBAAkB,EAAE,KAC7C,YAAAS,MAAA,CAAYT,kBAAkB;EACrC;EAEA,OAAOU,2BAAiB,CAACC,aAAa,CAACd,MAAM,EAAE;IAC7Ce,qBAAqB,EAAE,CAAC;IACxBd,qBAAqB,EAArBA;EACF,CAAC,CAAC;AACJ;AAEO,SAASe,WAAWA,CAACC,OAAO,EAAE;EACnC,OAAO,IAAAC,eAAO,EAACD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,OAAO,CAAC,mBAAmB,EAAE,SAAS,CAAC,CAAC;AAClE","ignoreList":[]}
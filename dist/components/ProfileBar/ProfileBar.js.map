{"version":3,"file":"ProfileBar.js","names":["_react","_interopRequireWildcard","require","_clsx","_interopRequireDefault","_propTypes","_i18nUtils","_htmlUtils","_calcUtils","_Balance","_Spinner","_Disconnect","_Connect","_ProfileBarModule","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_defineProperty","value","_toPropertyKey","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","length","arr2","_i","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","err","isArray","useChangeERC20","number","currency","prevNumberRef","useRef","prevCurrencyRef","_useState","useState","diff","changeid","_useState2","state","setState","useEffect","prevNumber","current","prevCurrency","sub","ProfileBar","_ref","_cn","balance","account","chainName","onDisconnectClick","onProfileClick","t","useTranslate","_useChangeERC","_useChangeERC2","difference","handleClick","useCallback","toLowerCase","handleDisconnectClick","e","stopPropagation","handleBalanceClick","createElement","className","css","profilebar","onClick","inner","cn","cash","increase","isPositive","decrease","isNegative","htmlCurrency","spinner","wallet","htmlAddress","title","action","propTypes","PropTypes","string","oneOfType","func","_default","React","memo","exports"],"sources":["../../../src/components/ProfileBar/ProfileBar.js"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react'\nimport cn from 'clsx'\nimport PropTypes from 'prop-types'\n\nimport { useTranslate } from '@lib/i18n-utils'\nimport { htmlAddress, htmlCurrency } from '@lib/html-utils'\nimport { isPositive, isNegative, sub } from '@lib/calc-utils'\n\nimport BalanceCurrency from '../common/Balance'\nimport Spinner from '../common/Spinner'\nimport Disconnect from '../SVG/Disconnect'\nimport Connect from '../SVG/Connect'\n\nimport css from './ProfileBar.module.scss'\n\nconst useChangeERC20 = (number, currency) => {\n  const prevNumberRef = useRef(number)\n  const prevCurrencyRef = useRef(currency)\n  const [state, setState] = useState({ diff: 0, changeid: 0 })\n\n  useEffect(() => {\n    const prevNumber = prevNumberRef.current\n    const prevCurrency = prevCurrencyRef.current\n\n    if (prevNumber !== number && prevCurrency === currency){\n      setState({ diff: sub(number, prevNumber), changeid: state.changeid+1 })\n    }\n\n    prevNumberRef.current = number\n    prevCurrencyRef.current = currency\n  }, [number, currency])\n\n  return [state.diff, state.changeid]\n}\n\nconst ProfileBar = ({\n  currency,\n  balance,\n  account,\n  chainName,\n  onDisconnectClick,\n  onProfileClick,\n}) => {\n  const t = useTranslate()\n\n  const [difference, changeid] = useChangeERC20(balance, currency)\n\n  const handleClick = useCallback(() => onProfileClick(account.toLowerCase()), [])\n\n  const handleDisconnectClick = useCallback((e) => {\n    e.stopPropagation()\n    onDisconnectClick()\n  }, [])\n\n  const handleBalanceClick = useCallback((e) => {\n    e.stopPropagation()\n  }, [])\n\n  return (\n    <div className={css.profilebar} onClick={handleClick}>\n      <div className={css.inner}>\n        <div\n          key={changeid}\n          className={cn(css.cash, {\n            [css.increase]: difference && isPositive(difference),\n            [css.decrease]: difference && isNegative(difference),\n          })}\n          onClick={handleBalanceClick}\n        >\n          <BalanceCurrency currency={currency} />\n          {balance && balance !== 0 ? (\n            <span className={css.value}>{htmlCurrency(balance)}</span>\n          ) : (\n            <Spinner className={css.spinner} />\n          )}\n          <span className={css.difference}>\n            <span>+</span>\n            {htmlCurrency(difference)}\n          </span>\n        </div>\n        <div className={css.account}>\n          <div className={css.wallet}>{htmlAddress(account)}</div>\n          <div className={css.name}>{chainName}</div>\n        </div>\n        <a\n          title={t('Disconnect Wallet')}\n          className={css.action}\n          onClick={handleDisconnectClick}\n        >\n          <Disconnect/>\n          <Connect/>\n        </a>\n      </div>\n    </div>\n  )\n}\n\nProfileBar.propTypes = {\n  currency: PropTypes.string,\n  balance: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  account: PropTypes.string,\n  chainName: PropTypes.string,\n  onDisconnectClick: PropTypes.func\n}\n\nexport default React.memo(ProfileBar)\n"],"mappings":"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"}
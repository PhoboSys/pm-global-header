{"version":3,"file":"CurrencyShortFormat.js","names":["_propTypes","_interopRequireDefault","require","_calcUtils","obj","__esModule","formatSymboled","amount","currency","formater","Intl","NumberFormat","Locale","style","currencyDisplay","minimumFractionDigits","maximumFractionDigits","format","formatNumber","num","arguments","length","undefined","map","suffix","threshold","formatted","found","find","x","Math","abs","div","ConvertedCurrencyCell","_ref","propTypes","PropTypes","oneOfType","string","number","_default","exports"],"sources":["../../../../src/components/common/CurrencyShortFormat/CurrencyShortFormat.js"],"sourcesContent":["import PropTypes from 'prop-types'\n\nimport { div } from '@lib/calc-utils'\n\nconst formatSymboled = (amount, currency) => {\n  const formater = new Intl.NumberFormat(Intl.Locale, {\n    style: 'currency',\n    currency,\n    currencyDisplay: 'narrowSymbol',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2,\n  })\n  return formater.format(amount)\n}\n\nfunction formatNumber(num = 0, currency) {\n  const map = [\n    { suffix: 'T', threshold: 1e12 },\n    { suffix: 'B', threshold: 1e9 },\n    { suffix: 'M', threshold: 1e6 },\n    { suffix: 'K', threshold: 1e3 },\n    { suffix: '', threshold: 1 },\n  ]\n\n  let formatted = num\n\n  const found = map.find((x) => Math.abs(num) >= x.threshold)\n  if (found) formatted = div(num, found.threshold)\n  if (currency) formatted = formatSymboled(formatted, currency)\n  if (found) formatted = formatted + found.suffix\n\n  return formatted\n}\n\nconst ConvertedCurrencyCell = ({ amount, currency }) => {\n  return formatNumber(amount, currency)\n}\n\nConvertedCurrencyCell.propTypes = {\n  amount: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  currency: PropTypes.string,\n}\n\nexport default ConvertedCurrencyCell"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,UAAA,GAAAD,OAAA;AAAqC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAErC,IAAME,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,MAAM,EAAEC,QAAQ,EAAK;EAC3C,IAAMC,QAAQ,GAAG,IAAIC,IAAI,CAACC,YAAY,CAACD,IAAI,CAACE,MAAM,EAAE;IAClDC,KAAK,EAAE,UAAU;IACjBL,QAAQ,EAARA,QAAQ;IACRM,eAAe,EAAE,cAAc;IAC/BC,qBAAqB,EAAE,CAAC;IACxBC,qBAAqB,EAAE;EACzB,CAAC,CAAC;EACF,OAAOP,QAAQ,CAACQ,MAAM,CAACV,MAAM,CAAC;AAChC,CAAC;AAED,SAASW,YAAYA,CAAA,EAAoB;EAAA,IAAnBC,GAAG,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAAA,IAAEZ,QAAQ,GAAAY,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACrC,IAAMC,GAAG,GAAG,CACV;IAAEC,MAAM,EAAE,GAAG;IAAEC,SAAS,EAAE;EAAK,CAAC,EAChC;IAAED,MAAM,EAAE,GAAG;IAAEC,SAAS,EAAE;EAAI,CAAC,EAC/B;IAAED,MAAM,EAAE,GAAG;IAAEC,SAAS,EAAE;EAAI,CAAC,EAC/B;IAAED,MAAM,EAAE,GAAG;IAAEC,SAAS,EAAE;EAAI,CAAC,EAC/B;IAAED,MAAM,EAAE,EAAE;IAAEC,SAAS,EAAE;EAAE,CAAC,CAC7B;EAED,IAAIC,SAAS,GAAGP,GAAG;EAEnB,IAAMQ,KAAK,GAAGJ,GAAG,CAACK,IAAI,CAAC,UAACC,CAAC;IAAA,OAAKC,IAAI,CAACC,GAAG,CAACZ,GAAG,CAAC,IAAIU,CAAC,CAACJ,SAAS;EAAA,EAAC;EAC3D,IAAIE,KAAK,EAAED,SAAS,GAAG,IAAAM,cAAG,EAACb,GAAG,EAAEQ,KAAK,CAACF,SAAS,CAAC;EAChD,IAAIjB,QAAQ,EAAEkB,SAAS,GAAGpB,cAAc,CAACoB,SAAS,EAAElB,QAAQ,CAAC;EAC7D,IAAImB,KAAK,EAAED,SAAS,GAAGA,SAAS,GAAGC,KAAK,CAACH,MAAM;EAE/C,OAAOE,SAAS;AAClB;AAEA,IAAMO,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAAC,IAAA,EAA6B;EAAA,IAAvB3B,MAAM,GAAA2B,IAAA,CAAN3B,MAAM;IAAEC,QAAQ,GAAA0B,IAAA,CAAR1B,QAAQ;EAC/C,OAAOU,YAAY,CAACX,MAAM,EAAEC,QAAQ,CAAC;AACvC,CAAC;AAEDyB,qBAAqB,CAACE,SAAS,GAAG;EAChC5B,MAAM,EAAE6B,qBAAS,CAACC,SAAS,CAAC,CAACD,qBAAS,CAACE,MAAM,EAAEF,qBAAS,CAACG,MAAM,CAAC,CAAC;EACjE/B,QAAQ,EAAE4B,qBAAS,CAACE;AACtB,CAAC;AAAA,IAAAE,QAAA,GAEcP,qBAAqB;AAAAQ,OAAA,cAAAD,QAAA"}